"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/youtube/subscribe/route";
exports.ids = ["app/api/youtube/subscribe/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fyoutube%2Fsubscribe%2Froute&page=%2Fapi%2Fyoutube%2Fsubscribe%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyoutube%2Fsubscribe%2Froute.ts&appDir=D%3A%5Cexe.blue%5Caifarm%5Capps%5Cweb%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cexe.blue%5Caifarm%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fyoutube%2Fsubscribe%2Froute&page=%2Fapi%2Fyoutube%2Fsubscribe%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyoutube%2Fsubscribe%2Froute.ts&appDir=D%3A%5Cexe.blue%5Caifarm%5Capps%5Cweb%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cexe.blue%5Caifarm%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_exe_blue_aifarm_apps_web_app_api_youtube_subscribe_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/youtube/subscribe/route.ts */ \"(rsc)/./app/api/youtube/subscribe/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/youtube/subscribe/route\",\n        pathname: \"/api/youtube/subscribe\",\n        filename: \"route\",\n        bundlePath: \"app/api/youtube/subscribe/route\"\n    },\n    resolvedPagePath: \"D:\\\\exe.blue\\\\aifarm\\\\apps\\\\web\\\\app\\\\api\\\\youtube\\\\subscribe\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_exe_blue_aifarm_apps_web_app_api_youtube_subscribe_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/youtube/subscribe/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ5b3V0dWJlJTJGc3Vic2NyaWJlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ5b3V0dWJlJTJGc3Vic2NyaWJlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGeW91dHViZSUyRnN1YnNjcmliZSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDZXhlLmJsdWUlNUNhaWZhcm0lNUNhcHBzJTVDd2ViJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDZXhlLmJsdWUlNUNhaWZhcm0lNUNhcHBzJTVDd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3VCO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG9haS13ZWIvP2Y0NWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcZXhlLmJsdWVcXFxcYWlmYXJtXFxcXGFwcHNcXFxcd2ViXFxcXGFwcFxcXFxhcGlcXFxceW91dHViZVxcXFxzdWJzY3JpYmVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3lvdXR1YmUvc3Vic2NyaWJlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkveW91dHViZS9zdWJzY3JpYmVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3lvdXR1YmUvc3Vic2NyaWJlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcZXhlLmJsdWVcXFxcYWlmYXJtXFxcXGFwcHNcXFxcd2ViXFxcXGFwcFxcXFxhcGlcXFxceW91dHViZVxcXFxzdWJzY3JpYmVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkveW91dHViZS9zdWJzY3JpYmUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fyoutube%2Fsubscribe%2Froute&page=%2Fapi%2Fyoutube%2Fsubscribe%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyoutube%2Fsubscribe%2Froute.ts&appDir=D%3A%5Cexe.blue%5Caifarm%5Capps%5Cweb%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cexe.blue%5Caifarm%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/youtube/subscribe/route.ts":
/*!********************************************!*\
  !*** ./app/api/youtube/subscribe/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n/**\r\n * YouTube Channel Subscription API\r\n * \r\n * Supabase를 사용한 채널 구독 관리\r\n * \r\n * GET /api/youtube/subscribe - 구독 목록 조회\r\n * POST /api/youtube/subscribe - 채널 구독\r\n * PUT /api/youtube/subscribe - 구독 설정 수정\r\n * DELETE /api/youtube/subscribe?channelId=xxx - 채널 구독 해제\r\n */ \n\n// Supabase 클라이언트 (서비스 역할)\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n// Supabase 사용 여부\nconst useSupabase = supabaseUrl && supabaseServiceKey;\nconst memorySubscriptions = new Map();\n// Supabase 클라이언트 생성\nfunction getSupabaseClient() {\n    if (!useSupabase) return null;\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(supabaseUrl, supabaseServiceKey);\n}\n// ============================================\n// GET - 구독 목록 조회\n// ============================================\nasync function GET(request) {\n    const searchParams = request.nextUrl.searchParams;\n    const activeOnly = searchParams.get(\"activeOnly\") !== \"false\";\n    try {\n        if (useSupabase) {\n            const supabase = getSupabaseClient();\n            let query = supabase.from(\"youtube_subscriptions\").select(\"*\").order(\"priority\", {\n                ascending: false\n            }).order(\"subscribed_at\", {\n                ascending: false\n            });\n            if (activeOnly) {\n                query = query.eq(\"is_active\", true);\n            }\n            const { data, error } = await query;\n            if (error) {\n                console.error(\"Supabase error:\", error);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    success: false,\n                    error: \"DB 조회 오류\",\n                    details: error.message\n                }, {\n                    status: 500\n                });\n            }\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                data: data || [],\n                count: data?.length || 0,\n                storage: \"supabase\"\n            });\n        } else {\n            // 메모리 폴백\n            const subscriptions = Array.from(memorySubscriptions.values()).filter((sub)=>!activeOnly || sub.is_active).sort((a, b)=>b.priority - a.priority);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                data: subscriptions,\n                count: subscriptions.length,\n                storage: \"memory\",\n                warning: \"Supabase 미설정 - 서버 재시작 시 데이터 손실\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Subscribe GET error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// ============================================\n// POST - 채널 구독\n// ============================================\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { channelId, channelTitle, channelHandle, thumbnail, uploadsPlaylistId, subscriberCount, videoCount, autoRegister = true, targetViewsDefault = 50, priority = 0 } = body;\n        if (!channelId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"channelId가 필요합니다\"\n            }, {\n                status: 400\n            });\n        }\n        if (useSupabase) {\n            const supabase = getSupabaseClient();\n            const { data, error } = await supabase.from(\"youtube_subscriptions\").upsert({\n                channel_id: channelId,\n                channel_title: channelTitle || \"Unknown Channel\",\n                channel_handle: channelHandle,\n                thumbnail_url: thumbnail,\n                uploads_playlist_id: uploadsPlaylistId,\n                subscriber_count: subscriberCount,\n                video_count: videoCount,\n                auto_register: autoRegister,\n                target_views_default: targetViewsDefault,\n                priority,\n                is_active: true\n            }, {\n                onConflict: \"channel_id\"\n            }).select().single();\n            if (error) {\n                console.error(\"Supabase insert error:\", error);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    success: false,\n                    error: \"DB 저장 오류\",\n                    details: error.message\n                }, {\n                    status: 500\n                });\n            }\n            console.log(`[YouTube] Channel subscribed (Supabase): ${channelTitle}`);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                message: \"채널 구독이 완료되었습니다\",\n                data,\n                storage: \"supabase\"\n            });\n        } else {\n            // 메모리 폴백\n            const subscription = {\n                id: `mem_${Date.now()}`,\n                channel_id: channelId,\n                channel_title: channelTitle || \"Unknown Channel\",\n                channel_handle: channelHandle,\n                thumbnail_url: thumbnail,\n                uploads_playlist_id: uploadsPlaylistId,\n                subscriber_count: subscriberCount,\n                video_count: videoCount,\n                auto_register: autoRegister,\n                target_views_default: targetViewsDefault,\n                priority,\n                subscribed_at: new Date().toISOString(),\n                is_active: true\n            };\n            memorySubscriptions.set(channelId, subscription);\n            console.log(`[YouTube] Channel subscribed (Memory): ${channelTitle}`);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                message: \"채널 구독이 완료되었습니다\",\n                data: subscription,\n                storage: \"memory\",\n                warning: \"Supabase 미설정 - 서버 재시작 시 데이터 손실\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Subscribe POST error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// ============================================\n// PUT - 구독 설정 수정\n// ============================================\nasync function PUT(request) {\n    try {\n        const body = await request.json();\n        const { channelId, ...updates } = body;\n        if (!channelId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"channelId가 필요합니다\"\n            }, {\n                status: 400\n            });\n        }\n        // 필드명 매핑 (camelCase -> snake_case)\n        const fieldMapping = {\n            autoRegister: \"auto_register\",\n            targetViewsDefault: \"target_views_default\",\n            isActive: \"is_active\"\n        };\n        const dbUpdates = {};\n        for (const [key, value] of Object.entries(updates)){\n            const dbKey = fieldMapping[key] || key;\n            dbUpdates[dbKey] = value;\n        }\n        if (useSupabase) {\n            const supabase = getSupabaseClient();\n            const { data, error } = await supabase.from(\"youtube_subscriptions\").update(dbUpdates).eq(\"channel_id\", channelId).select().single();\n            if (error) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    success: false,\n                    error: \"DB 수정 오류\",\n                    details: error.message\n                }, {\n                    status: 500\n                });\n            }\n            if (!data) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    success: false,\n                    error: \"구독 중인 채널이 아닙니다\"\n                }, {\n                    status: 404\n                });\n            }\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                message: \"구독 설정이 수정되었습니다\",\n                data\n            });\n        } else {\n            // 메모리 폴백\n            const subscription = memorySubscriptions.get(channelId);\n            if (!subscription) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    success: false,\n                    error: \"구독 중인 채널이 아닙니다\"\n                }, {\n                    status: 404\n                });\n            }\n            Object.assign(subscription, updates);\n            memorySubscriptions.set(channelId, subscription);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                message: \"구독 설정이 수정되었습니다\",\n                data: subscription,\n                storage: \"memory\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Subscribe PUT error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// ============================================\n// DELETE - 채널 구독 해제\n// ============================================\nasync function DELETE(request) {\n    try {\n        const searchParams = request.nextUrl.searchParams;\n        const channelId = searchParams.get(\"channelId\");\n        const permanent = searchParams.get(\"permanent\") === \"true\";\n        if (!channelId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"channelId가 필요합니다\"\n            }, {\n                status: 400\n            });\n        }\n        if (useSupabase) {\n            const supabase = getSupabaseClient();\n            if (permanent) {\n                // 완전 삭제\n                const { error } = await supabase.from(\"youtube_subscriptions\").delete().eq(\"channel_id\", channelId);\n                if (error) {\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        success: false,\n                        error: \"DB 삭제 오류\",\n                        details: error.message\n                    }, {\n                        status: 500\n                    });\n                }\n            } else {\n                // 소프트 삭제 (비활성화)\n                const { error } = await supabase.from(\"youtube_subscriptions\").update({\n                    is_active: false\n                }).eq(\"channel_id\", channelId);\n                if (error) {\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        success: false,\n                        error: \"DB 수정 오류\",\n                        details: error.message\n                    }, {\n                        status: 500\n                    });\n                }\n            }\n            console.log(`[YouTube] Channel unsubscribed: ${channelId}`);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                message: permanent ? \"채널 구독이 완전히 삭제되었습니다\" : \"채널 구독이 해제되었습니다\"\n            });\n        } else {\n            // 메모리 폴백\n            if (!memorySubscriptions.has(channelId)) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    success: false,\n                    error: \"구독 중인 채널이 아닙니다\"\n                }, {\n                    status: 404\n                });\n            }\n            if (permanent) {\n                memorySubscriptions.delete(channelId);\n            } else {\n                const subscription = memorySubscriptions.get(channelId);\n                subscription.is_active = false;\n            }\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                message: \"채널 구독이 해제되었습니다\",\n                storage: \"memory\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Subscribe DELETE error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3lvdXR1YmUvc3Vic2NyaWJlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Q0FTQyxHQUV1RDtBQUNIO0FBRXJELDBCQUEwQjtBQUMxQixNQUFNRSxjQUFjQyxRQUFRQyxHQUFHLENBQUNDLHdCQUF3QjtBQUN4RCxNQUFNQyxxQkFBcUJILFFBQVFDLEdBQUcsQ0FBQ0cseUJBQXlCO0FBRWhFLGlCQUFpQjtBQUNqQixNQUFNQyxjQUFjTixlQUFlSTtBQXFCbkMsTUFBTUcsc0JBQWlELElBQUlDO0FBRTNELG9CQUFvQjtBQUNwQixTQUFTQztJQUNQLElBQUksQ0FBQ0gsYUFBYSxPQUFPO0lBQ3pCLE9BQU9QLG1FQUFZQSxDQUFDQyxhQUFjSTtBQUNwQztBQUVBLCtDQUErQztBQUMvQyxpQkFBaUI7QUFDakIsK0NBQStDO0FBRXhDLGVBQWVNLElBQUlDLE9BQW9CO0lBQzVDLE1BQU1DLGVBQWVELFFBQVFFLE9BQU8sQ0FBQ0QsWUFBWTtJQUNqRCxNQUFNRSxhQUFhRixhQUFhRyxHQUFHLENBQUMsa0JBQWtCO0lBRXRELElBQUk7UUFDRixJQUFJVCxhQUFhO1lBQ2YsTUFBTVUsV0FBV1A7WUFFakIsSUFBSVEsUUFBUUQsU0FDVEUsSUFBSSxDQUFDLHlCQUNMQyxNQUFNLENBQUMsS0FDUEMsS0FBSyxDQUFDLFlBQVk7Z0JBQUVDLFdBQVc7WUFBTSxHQUNyQ0QsS0FBSyxDQUFDLGlCQUFpQjtnQkFBRUMsV0FBVztZQUFNO1lBRTdDLElBQUlQLFlBQVk7Z0JBQ2RHLFFBQVFBLE1BQU1LLEVBQUUsQ0FBQyxhQUFhO1lBQ2hDO1lBRUEsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1QO1lBRTlCLElBQUlPLE9BQU87Z0JBQ1RDLFFBQVFELEtBQUssQ0FBQyxtQkFBbUJBO2dCQUNqQyxPQUFPMUIsa0ZBQVlBLENBQUM0QixJQUFJLENBQUM7b0JBQ3ZCQyxTQUFTO29CQUNUSCxPQUFPO29C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QUFRckIsTUFBTUssT0FBTyxHQUFHO1FBQ2xELEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ25CO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb2FpLXdlYi8uL2FwcC9hcGkveW91dHViZS9zdWJzY3JpYmUvcm91dGUudHM/ZDBmZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogWW91VHViZSBDaGFubmVsIFN1YnNjcmlwdGlvbiBBUElcclxuICogXHJcbiAqIFN1cGFiYXNl66W8IOyCrOyaqe2VnCDssYTrhJAg6rWs64+FIOq0gOumrFxyXG4gKiBcclxuICogR0VUIC9hcGkveW91dHViZS9zdWJzY3JpYmUgLSDqtazrj4Ug66qp66GdIOyhsO2ajFxyXG4gKiBQT1NUIC9hcGkveW91dHViZS9zdWJzY3JpYmUgLSDssYTrhJAg6rWs64+FXHJcbiAqIFBVVCAvYXBpL3lvdXR1YmUvc3Vic2NyaWJlIC0g6rWs64+FIOyEpOyglSDsiJjsoJVcclxuICogREVMRVRFIC9hcGkveW91dHViZS9zdWJzY3JpYmU/Y2hhbm5lbElkPXh4eCAtIOyxhOuEkCDqtazrj4Ug7ZW07KCcXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcclxuXHJcbi8vIFN1cGFiYXNlIO2BtOudvOydtOyWuO2KuCAo7ISc67mE7IqkIOyXre2VoClcclxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XHJcbmNvbnN0IHN1cGFiYXNlU2VydmljZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVk7XHJcblxyXG4vLyBTdXBhYmFzZSDsgqzsmqkg7Jes67aAXHJcbmNvbnN0IHVzZVN1cGFiYXNlID0gc3VwYWJhc2VVcmwgJiYgc3VwYWJhc2VTZXJ2aWNlS2V5O1xyXG5cclxuLy8g7Y+067CxOiDrqZTrqqjrpqwg7KCA7J6l7IaMIChTdXBhYmFzZSDrr7jshKTsoJUg7IucKVxyXG5pbnRlcmZhY2UgU3Vic2NyaXB0aW9uIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGNoYW5uZWxfaWQ6IHN0cmluZztcclxuICBjaGFubmVsX3RpdGxlOiBzdHJpbmc7XHJcbiAgY2hhbm5lbF9oYW5kbGU/OiBzdHJpbmc7XHJcbiAgdGh1bWJuYWlsX3VybD86IHN0cmluZztcclxuICB1cGxvYWRzX3BsYXlsaXN0X2lkPzogc3RyaW5nO1xyXG4gIHN1YnNjcmliZXJfY291bnQ/OiBudW1iZXI7XHJcbiAgdmlkZW9fY291bnQ/OiBudW1iZXI7XHJcbiAgYXV0b19yZWdpc3RlcjogYm9vbGVhbjtcclxuICB0YXJnZXRfdmlld3NfZGVmYXVsdDogbnVtYmVyO1xyXG4gIHByaW9yaXR5OiBudW1iZXI7XHJcbiAgbGFzdF92aWRlb19pZD86IHN0cmluZztcclxuICBsYXN0X2NoZWNrZWRfYXQ/OiBzdHJpbmc7XHJcbiAgc3Vic2NyaWJlZF9hdDogc3RyaW5nO1xyXG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcclxufVxyXG5cclxuY29uc3QgbWVtb3J5U3Vic2NyaXB0aW9uczogTWFwPHN0cmluZywgU3Vic2NyaXB0aW9uPiA9IG5ldyBNYXAoKTtcclxuXHJcbi8vIFN1cGFiYXNlIO2BtOudvOydtOyWuO2KuCDsg53shLFcclxuZnVuY3Rpb24gZ2V0U3VwYWJhc2VDbGllbnQoKSB7XHJcbiAgaWYgKCF1c2VTdXBhYmFzZSkgcmV0dXJuIG51bGw7XHJcbiAgcmV0dXJuIGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCEsIHN1cGFiYXNlU2VydmljZUtleSEpO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHRVQgLSDqtazrj4Ug66qp66GdIOyhsO2ajFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHJlcXVlc3QubmV4dFVybC5zZWFyY2hQYXJhbXM7XHJcbiAgY29uc3QgYWN0aXZlT25seSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2FjdGl2ZU9ubHknKSAhPT0gJ2ZhbHNlJztcclxuXHJcbiAgdHJ5IHtcclxuICAgIGlmICh1c2VTdXBhYmFzZSkge1xyXG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCkhO1xyXG4gICAgICBcclxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgneW91dHViZV9zdWJzY3JpcHRpb25zJylcclxuICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAub3JkZXIoJ3ByaW9yaXR5JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgICAgLm9yZGVyKCdzdWJzY3JpYmVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKGFjdGl2ZU9ubHkpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdpc19hY3RpdmUnLCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgZXJyb3I6ICdEQiDsobDtmowg7Jik66WYJyxcclxuICAgICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IGRhdGEgfHwgW10sXHJcbiAgICAgICAgY291bnQ6IGRhdGE/Lmxlbmd0aCB8fCAwLFxyXG4gICAgICAgIHN0b3JhZ2U6ICdzdXBhYmFzZScsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g66mU66qo66asIO2PtOuwsVxyXG4gICAgICBjb25zdCBzdWJzY3JpcHRpb25zID0gQXJyYXkuZnJvbShtZW1vcnlTdWJzY3JpcHRpb25zLnZhbHVlcygpKVxyXG4gICAgICAgIC5maWx0ZXIoc3ViID0+ICFhY3RpdmVPbmx5IHx8IHN1Yi5pc19hY3RpdmUpXHJcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiBzdWJzY3JpcHRpb25zLFxyXG4gICAgICAgIGNvdW50OiBzdWJzY3JpcHRpb25zLmxlbmd0aCxcclxuICAgICAgICBzdG9yYWdlOiAnbWVtb3J5JyxcclxuICAgICAgICB3YXJuaW5nOiAnU3VwYWJhc2Ug66+47ISk7KCVIC0g7ISc67KEIOyerOyLnOyekSDsi5wg642w7J207YSwIOyGkOyLpCcsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdTdWJzY3JpYmUgR0VUIGVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXHJcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUE9TVCAtIOyxhOuEkCDqtazrj4VcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IHtcclxuICAgICAgY2hhbm5lbElkLFxyXG4gICAgICBjaGFubmVsVGl0bGUsXHJcbiAgICAgIGNoYW5uZWxIYW5kbGUsXHJcbiAgICAgIHRodW1ibmFpbCxcclxuICAgICAgdXBsb2Fkc1BsYXlsaXN0SWQsXHJcbiAgICAgIHN1YnNjcmliZXJDb3VudCxcclxuICAgICAgdmlkZW9Db3VudCxcclxuICAgICAgYXV0b1JlZ2lzdGVyID0gdHJ1ZSxcclxuICAgICAgdGFyZ2V0Vmlld3NEZWZhdWx0ID0gNTAsXHJcbiAgICAgIHByaW9yaXR5ID0gMCxcclxuICAgIH0gPSBib2R5O1xyXG5cclxuICAgIGlmICghY2hhbm5lbElkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdjaGFubmVsSWTqsIAg7ZWE7JqU7ZWp64uI64ukJyxcclxuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodXNlU3VwYWJhc2UpIHtcclxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpITtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3lvdXR1YmVfc3Vic2NyaXB0aW9ucycpXHJcbiAgICAgICAgLnVwc2VydCh7XHJcbiAgICAgICAgICBjaGFubmVsX2lkOiBjaGFubmVsSWQsXHJcbiAgICAgICAgICBjaGFubmVsX3RpdGxlOiBjaGFubmVsVGl0bGUgfHwgJ1Vua25vd24gQ2hhbm5lbCcsXHJcbiAgICAgICAgICBjaGFubmVsX2hhbmRsZTogY2hhbm5lbEhhbmRsZSxcclxuICAgICAgICAgIHRodW1ibmFpbF91cmw6IHRodW1ibmFpbCxcclxuICAgICAgICAgIHVwbG9hZHNfcGxheWxpc3RfaWQ6IHVwbG9hZHNQbGF5bGlzdElkLFxyXG4gICAgICAgICAgc3Vic2NyaWJlcl9jb3VudDogc3Vic2NyaWJlckNvdW50LFxyXG4gICAgICAgICAgdmlkZW9fY291bnQ6IHZpZGVvQ291bnQsXHJcbiAgICAgICAgICBhdXRvX3JlZ2lzdGVyOiBhdXRvUmVnaXN0ZXIsXHJcbiAgICAgICAgICB0YXJnZXRfdmlld3NfZGVmYXVsdDogdGFyZ2V0Vmlld3NEZWZhdWx0LFxyXG4gICAgICAgICAgcHJpb3JpdHksXHJcbiAgICAgICAgICBpc19hY3RpdmU6IHRydWUsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgb25Db25mbGljdDogJ2NoYW5uZWxfaWQnLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNlbGVjdCgpXHJcbiAgICAgICAgLnNpbmdsZSgpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgaW5zZXJ0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBlcnJvcjogJ0RCIOyggOyepSDsmKTrpZgnLFxyXG4gICAgICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZSxcclxuICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgW1lvdVR1YmVdIENoYW5uZWwgc3Vic2NyaWJlZCAoU3VwYWJhc2UpOiAke2NoYW5uZWxUaXRsZX1gKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlOiAn7LGE64SQIOq1rOuPheydtCDsmYTro4zrkJjsl4jsirXri4jri6QnLFxyXG4gICAgICAgIGRhdGEsXHJcbiAgICAgICAgc3RvcmFnZTogJ3N1cGFiYXNlJyxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDrqZTrqqjrpqwg7Y+067CxXHJcbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uID0ge1xyXG4gICAgICAgIGlkOiBgbWVtXyR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgIGNoYW5uZWxfaWQ6IGNoYW5uZWxJZCxcclxuICAgICAgICBjaGFubmVsX3RpdGxlOiBjaGFubmVsVGl0bGUgfHwgJ1Vua25vd24gQ2hhbm5lbCcsXHJcbiAgICAgICAgY2hhbm5lbF9oYW5kbGU6IGNoYW5uZWxIYW5kbGUsXHJcbiAgICAgICAgdGh1bWJuYWlsX3VybDogdGh1bWJuYWlsLFxyXG4gICAgICAgIHVwbG9hZHNfcGxheWxpc3RfaWQ6IHVwbG9hZHNQbGF5bGlzdElkLFxyXG4gICAgICAgIHN1YnNjcmliZXJfY291bnQ6IHN1YnNjcmliZXJDb3VudCxcclxuICAgICAgICB2aWRlb19jb3VudDogdmlkZW9Db3VudCxcclxuICAgICAgICBhdXRvX3JlZ2lzdGVyOiBhdXRvUmVnaXN0ZXIsXHJcbiAgICAgICAgdGFyZ2V0X3ZpZXdzX2RlZmF1bHQ6IHRhcmdldFZpZXdzRGVmYXVsdCxcclxuICAgICAgICBwcmlvcml0eSxcclxuICAgICAgICBzdWJzY3JpYmVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgaXNfYWN0aXZlOiB0cnVlLFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgbWVtb3J5U3Vic2NyaXB0aW9ucy5zZXQoY2hhbm5lbElkLCBzdWJzY3JpcHRpb24pO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYFtZb3VUdWJlXSBDaGFubmVsIHN1YnNjcmliZWQgKE1lbW9yeSk6ICR7Y2hhbm5lbFRpdGxlfWApO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICfssYTrhJAg6rWs64+F7J20IOyZhOujjOuQmOyXiOyKteuLiOuLpCcsXHJcbiAgICAgICAgZGF0YTogc3Vic2NyaXB0aW9uLFxyXG4gICAgICAgIHN0b3JhZ2U6ICdtZW1vcnknLFxyXG4gICAgICAgIHdhcm5pbmc6ICdTdXBhYmFzZSDrr7jshKTsoJUgLSDshJzrsoQg7J6s7Iuc7J6RIOyLnCDrjbDsnbTthLAg7IaQ7IukJyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1N1YnNjcmliZSBQT1NUIGVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXHJcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUFVUIC0g6rWs64+FIOyEpOyglSDsiJjsoJVcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQVVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc3QgeyBjaGFubmVsSWQsIC4uLnVwZGF0ZXMgfSA9IGJvZHk7XHJcblxyXG4gICAgaWYgKCFjaGFubmVsSWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogJ2NoYW5uZWxJZOqwgCDtlYTsmpTtlanri4jri6QnLFxyXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIO2VhOuTnOuqhSDrp6TtlZEgKGNhbWVsQ2FzZSAtPiBzbmFrZV9jYXNlKVxyXG4gICAgY29uc3QgZmllbGRNYXBwaW5nOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICBhdXRvUmVnaXN0ZXI6ICdhdXRvX3JlZ2lzdGVyJyxcclxuICAgICAgdGFyZ2V0Vmlld3NEZWZhdWx0OiAndGFyZ2V0X3ZpZXdzX2RlZmF1bHQnLFxyXG4gICAgICBpc0FjdGl2ZTogJ2lzX2FjdGl2ZScsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGRiVXBkYXRlczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHVwZGF0ZXMpKSB7XHJcbiAgICAgIGNvbnN0IGRiS2V5ID0gZmllbGRNYXBwaW5nW2tleV0gfHwga2V5O1xyXG4gICAgICBkYlVwZGF0ZXNbZGJLZXldID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHVzZVN1cGFiYXNlKSB7XHJcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKSE7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd5b3V0dWJlX3N1YnNjcmlwdGlvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoZGJVcGRhdGVzKVxyXG4gICAgICAgIC5lcSgnY2hhbm5lbF9pZCcsIGNoYW5uZWxJZClcclxuICAgICAgICAuc2VsZWN0KClcclxuICAgICAgICAuc2luZ2xlKCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBlcnJvcjogJ0RCIOyImOyglSDsmKTrpZgnLFxyXG4gICAgICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZSxcclxuICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBlcnJvcjogJ+q1rOuPhSDspJHsnbgg7LGE64SQ7J20IOyVhOuLmeuLiOuLpCcsXHJcbiAgICAgICAgfSwgeyBzdGF0dXM6IDQwNCB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICfqtazrj4Ug7ISk7KCV7J20IOyImOygleuQmOyXiOyKteuLiOuLpCcsXHJcbiAgICAgICAgZGF0YSxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDrqZTrqqjrpqwg7Y+067CxXHJcbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG1lbW9yeVN1YnNjcmlwdGlvbnMuZ2V0KGNoYW5uZWxJZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIGVycm9yOiAn6rWs64+FIOykkeyduCDssYTrhJDsnbQg7JWE64uZ64uI64ukJyxcclxuICAgICAgICB9LCB7IHN0YXR1czogNDA0IH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBPYmplY3QuYXNzaWduKHN1YnNjcmlwdGlvbiwgdXBkYXRlcyk7XHJcbiAgICAgIG1lbW9yeVN1YnNjcmlwdGlvbnMuc2V0KGNoYW5uZWxJZCwgc3Vic2NyaXB0aW9uKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlOiAn6rWs64+FIOyEpOygleydtCDsiJjsoJXrkJjsl4jsirXri4jri6QnLFxyXG4gICAgICAgIGRhdGE6IHN1YnNjcmlwdGlvbixcclxuICAgICAgICBzdG9yYWdlOiAnbWVtb3J5JyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1N1YnNjcmliZSBQVVQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcclxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBERUxFVEUgLSDssYTrhJAg6rWs64+FIO2VtOygnFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSByZXF1ZXN0Lm5leHRVcmwuc2VhcmNoUGFyYW1zO1xyXG4gICAgY29uc3QgY2hhbm5lbElkID0gc2VhcmNoUGFyYW1zLmdldCgnY2hhbm5lbElkJyk7XHJcbiAgICBjb25zdCBwZXJtYW5lbnQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdwZXJtYW5lbnQnKSA9PT0gJ3RydWUnO1xyXG5cclxuICAgIGlmICghY2hhbm5lbElkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdjaGFubmVsSWTqsIAg7ZWE7JqU7ZWp64uI64ukJyxcclxuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodXNlU3VwYWJhc2UpIHtcclxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpITtcclxuICAgICAgXHJcbiAgICAgIGlmIChwZXJtYW5lbnQpIHtcclxuICAgICAgICAvLyDsmYTsoIQg7IKt7KCcXHJcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCd5b3V0dWJlX3N1YnNjcmlwdGlvbnMnKVxyXG4gICAgICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgICAgICAuZXEoJ2NoYW5uZWxfaWQnLCBjaGFubmVsSWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIGVycm9yOiAnREIg7IKt7KCcIOyYpOulmCcsXHJcbiAgICAgICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyDshoztlITtirgg7IKt7KCcICjruYTtmZzshLHtmZQpXHJcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCd5b3V0dWJlX3N1YnNjcmlwdGlvbnMnKVxyXG4gICAgICAgICAgLnVwZGF0ZSh7IGlzX2FjdGl2ZTogZmFsc2UgfSlcclxuICAgICAgICAgIC5lcSgnY2hhbm5lbF9pZCcsIGNoYW5uZWxJZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgZXJyb3I6ICdEQiDsiJjsoJUg7Jik66WYJyxcclxuICAgICAgICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZSxcclxuICAgICAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgW1lvdVR1YmVdIENoYW5uZWwgdW5zdWJzY3JpYmVkOiAke2NoYW5uZWxJZH1gKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlOiBwZXJtYW5lbnQgPyAn7LGE64SQIOq1rOuPheydtCDsmYTsoITtnogg7IKt7KCc65CY7JeI7Iq164uI64ukJyA6ICfssYTrhJAg6rWs64+F7J20IO2VtOygnOuQmOyXiOyKteuLiOuLpCcsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g66mU66qo66asIO2PtOuwsVxyXG4gICAgICBpZiAoIW1lbW9yeVN1YnNjcmlwdGlvbnMuaGFzKGNoYW5uZWxJZCkpIHtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBlcnJvcjogJ+q1rOuPhSDspJHsnbgg7LGE64SQ7J20IOyVhOuLmeuLiOuLpCcsXHJcbiAgICAgICAgfSwgeyBzdGF0dXM6IDQwNCB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHBlcm1hbmVudCkge1xyXG4gICAgICAgIG1lbW9yeVN1YnNjcmlwdGlvbnMuZGVsZXRlKGNoYW5uZWxJZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gbWVtb3J5U3Vic2NyaXB0aW9ucy5nZXQoY2hhbm5lbElkKSE7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uLmlzX2FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgbWVzc2FnZTogJ+yxhOuEkCDqtazrj4XsnbQg7ZW07KCc65CY7JeI7Iq164uI64ukJyxcclxuICAgICAgICBzdG9yYWdlOiAnbWVtb3J5JyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1N1YnNjcmliZSBERUxFVEUgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcclxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZVNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwidXNlU3VwYWJhc2UiLCJtZW1vcnlTdWJzY3JpcHRpb25zIiwiTWFwIiwiZ2V0U3VwYWJhc2VDbGllbnQiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwibmV4dFVybCIsImFjdGl2ZU9ubHkiLCJnZXQiLCJzdXBhYmFzZSIsInF1ZXJ5IiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiZXEiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwianNvbiIsInN1Y2Nlc3MiLCJkZXRhaWxzIiwibWVzc2FnZSIsInN0YXR1cyIsImNvdW50IiwibGVuZ3RoIiwic3RvcmFnZSIsInN1YnNjcmlwdGlvbnMiLCJBcnJheSIsInZhbHVlcyIsImZpbHRlciIsInN1YiIsImlzX2FjdGl2ZSIsInNvcnQiLCJhIiwiYiIsInByaW9yaXR5Iiwid2FybmluZyIsIkVycm9yIiwiUE9TVCIsImJvZHkiLCJjaGFubmVsSWQiLCJjaGFubmVsVGl0bGUiLCJjaGFubmVsSGFuZGxlIiwidGh1bWJuYWlsIiwidXBsb2Fkc1BsYXlsaXN0SWQiLCJzdWJzY3JpYmVyQ291bnQiLCJ2aWRlb0NvdW50IiwiYXV0b1JlZ2lzdGVyIiwidGFyZ2V0Vmlld3NEZWZhdWx0IiwidXBzZXJ0IiwiY2hhbm5lbF9pZCIsImNoYW5uZWxfdGl0bGUiLCJjaGFubmVsX2hhbmRsZSIsInRodW1ibmFpbF91cmwiLCJ1cGxvYWRzX3BsYXlsaXN0X2lkIiwic3Vic2NyaWJlcl9jb3VudCIsInZpZGVvX2NvdW50IiwiYXV0b19yZWdpc3RlciIsInRhcmdldF92aWV3c19kZWZhdWx0Iiwib25Db25mbGljdCIsInNpbmdsZSIsImxvZyIsInN1YnNjcmlwdGlvbiIsImlkIiwiRGF0ZSIsIm5vdyIsInN1YnNjcmliZWRfYXQiLCJ0b0lTT1N0cmluZyIsInNldCIsIlBVVCIsInVwZGF0ZXMiLCJmaWVsZE1hcHBpbmciLCJpc0FjdGl2ZSIsImRiVXBkYXRlcyIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsImRiS2V5IiwidXBkYXRlIiwiYXNzaWduIiwiREVMRVRFIiwicGVybWFuZW50IiwiZGVsZXRlIiwiaGFzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/youtube/subscribe/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fyoutube%2Fsubscribe%2Froute&page=%2Fapi%2Fyoutube%2Fsubscribe%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyoutube%2Fsubscribe%2Froute.ts&appDir=D%3A%5Cexe.blue%5Caifarm%5Capps%5Cweb%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cexe.blue%5Caifarm%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();